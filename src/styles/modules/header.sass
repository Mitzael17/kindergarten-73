@use 'sass:math'

@import '../assets/functions'
@import '../assets/mixins'
@import '../assets/vars'


$headerContactThemeReverse: 850px

$headerSecondResponse: 650px
$responseRestBlockForWeakEyes: 680px


@mixin firstResponseMainBlock($var)
  @media screen and (max-width: $var)
    justify-content: space-between
    width: 100%

@mixin firstResponseContentBlock($var)
  @media screen and (max-width: $var)
    &:before, &:after
      left: 0
      width: 100%

@mixin firstResponseContactBlocks($var)
  @media screen and (max-width: $var)
    justify-content: center
    margin: rem(12) 0 0 0
    flex-shrink: 1


html.theme-visually-impaired
  .header

    &__rest
      @media screen and (max-width: $responseRestBlockForWeakEyes)
        flex-direction: column
        text-align: center
        gap: rem(5)

    &__content
      @include firstResponseContentBlock($headerFirstThemeResponse)

    &__mainBlock
      @include firstResponseMainBlock($headerFirstThemeResponse)

    &__contacts
      @include firstResponseContactBlocks($headerFirstThemeResponse)

      @media screen and (max-width: $headerContactThemeReverse)
        flex-direction: column
        gap: 15px
        text-align: center

    &__telContainer
      .pairWords
        @media screen and (max-width: $headerContactThemeReverse)
          justify-content: center

    &__menu
      @media screen and (max-width: $headerFirstResponse)
        margin: 0 0 0 rem(30)
        gap: rem(10)

.header
  font-size: 1rem

  &__rest
    display: flex
    justify-content: space-between
    padding: .5em 0 em(5, 16)
    align-items: center

    .weakText
      font-size: em(12, 16)
      letter-spacing: em(-0.2, 12)

  &__content
    padding: 1em 0
    display: flex
    align-items: center
    justify-content: space-between
    position: relative
    min-width: max-content

    @media screen and (max-width: $headerSecondResponse)
      padding: em(12.5, 16) 0

    @include createLineBorder('both')
    @include firstResponseContentBlock($headerFirstResponse)


  &__mainBlock
    display: flex
    align-items: center
    @include firstResponseMainBlock($headerFirstResponse)

  &__menu
    margin: 0 16px 0 30px
    display: flex
    align-items: center
    gap: 20px

    & > ul
      display: flex
      gap: rem(20)

      @media screen and (max-width: $headerFirstResponse)
        gap: rem(10)

      li
        white-space: nowrap

    @media screen and (max-width: $headerFirstResponse)
      margin: 0 0 0 rem(145)
      gap: rem(10)

  &__contacts
    display: flex
    gap: rem(20)
    align-items: center
    flex-shrink: 0
    margin-left: 1rem

    @include firstResponseContactBlocks($headerFirstResponse)

    @media screen and (max-width: $headerSecondResponse)
      font-size: rem(12)

      .button
        padding: em(5, 12)

  &__telContainer

    .weakText
      letter-spacing: em(-0.4, 16)

  &__tel
    transition: $defaultTransitionDuration all
    @include setFonts(20, var(--textColor), lh(26, 20), -0.4)
    &:hover
      color: var(--textHoverColor)

  &__socials
    display: flex
    gap: 20px

    @media screen and (max-width: $headerSecondResponse)
      gap: rem(10)

  &__social
    display: block
    width: em(36, 16)
    height: em(36, 16)

    img
      width: 100%
      height: 100%

    @media screen and (max-width: $headerSecondResponse)
      width: 2em
      height: 2em

  &__burgerWrapper
    position: relative

  &__burgerMenu
    padding: rem(10)
    display: flex
    align-items: center
    background: var(--greyBackground)
    border-radius: rem(5)
    cursor: pointer
    position: relative

    & > .link
      line-height: 1

      @media screen and (max-width: $headerSecondResponse)
        font-size: em(12, 16)

    &:hover

      & > .link
        color: var(--textHoverColor)

      .header__burger
        &:before, span, &:after
          background: var(--textHoverColor)

    &.active .header__burger

      span
        transform: scaleX(0)

      &:before
        top: 50%
        transform: translateY(-50%) rotate(45deg)

      &:after
        transform: translateY(-50%) rotate(-45deg)

  &__burger
    margin-right: 8px
    width: em(18, 16)
    height: em(18, 16)
    position: relative

    &:before, &:after, span
      height: 2px
      background: #000
      position: absolute
      transition: $defaultTransitionDuration all

    span
      bottom: em(2.25, 16)
      width: em(8.25, 16)
      transform-origin: left center

    &:before, &:after
      width: em(13.5, 16)
      content: ''

    &:before
      top: em(2.25, 16)

    &:after
      top: 50%
      transform: translateY(-50%)

  &__burgerList
    position: absolute
    right: em(-4, 16)
    top: 110%
    z-index: 100
    transition: $defaultTransitionDuration all
    transform-origin: center center
    transform: scaleY(0)
    background: var(--greyBackground)
    border-radius: rem(5)

    &.active
      transform: scaleY(1)

    li .link
      padding: rem(10)
      display: block
      cursor: pointer
